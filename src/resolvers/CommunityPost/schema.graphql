type Query {
  allCommunityPosts(communityPostOption: CommunityPostQuery!): [CommunityPostInfo!]
  _allCommunityPostsMetadata: Int!
}

type Mutation {
  """
  Return > [true] : DB save successful [false] : DB save unsuccessful
  """
  createCommunityPost(communityPostInfo: CommunityPostInfoInput!): Boolean!

  deleteCommunityPost(postId: Int!): Boolean
}

#--------------
#   INPUT
#--------------

enum ComPostSortableField {
  title
  time
  viewCount
}

# Query
input CommunityPostFilterGeneral {
  start: Int = 0
  first: Int = 50
  sort: SortDirection = DESC
  sortBy: ComPostSortableField = time
}

input CommunityPostQueryFilter {
  accountId: Int
  postId: Int
  postType: CommunityPostType!
  qnaType: QNAType
  channelId: Int
}

input CommunityPostQuery {
  filterGeneral: CommunityPostFilterGeneral
  postFilter: CommunityPostQueryFilter!
}

# Mutation

input CommunityPostInfoInput {
  accountId: Int!
  """
  If belongs to a channel, insert UserId
  """
  channelId: Int!
  title: String!
  content: String!
  postType: CommunityPostType!
  qnaType: QNAType
  img: [Upload]
}

#---------------
#   Return
#---------------

type CommunityPostInfo {
  accountId: Int
  name: String!
  profileImgUrl: String

  commentCount: Int!

  id: Int
  channelId: Int
  title: String!
  content: String!
  time: String!
  viewCount: Int!
  imageUrl: [String]
  postType: String!
  qnaType: String
}
